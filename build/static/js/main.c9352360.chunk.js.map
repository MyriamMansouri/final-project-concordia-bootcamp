{"version":3,"sources":["components/assets/user-marker.svg","components/assets/marker.svg","components/assets/compass.svg","reducers/user-reducer.js","reducers/markers-reducer.js","reducers/map-reducer.js","reducers/reducer.js","store.js","actions.js","components/assets/styles.js","components/GlobalStyle.js","components/Buttons/Button.js","components/Forms/StyledFormComponents.js","components/Misc/typo.js","components/Error.js","components/Spinner.js","components/SignUp.js","components/LogIn.js","components/Cards/Card.js","pages/FourOhFour.js","components/Icons.js","components/Buttons/UnstyledButton.js","components/Misc/Img.js","components/Forms/InputPicture.js","components/MarkerForm.js","components/Cards/SmallCard.js","components/Buttons/VoteBtn.js","components/CustomInfobox.js","components/CustomMarker.js","components/Buttons/CenterToUserMapBtn.js","components/Map.js","pages/Homepage.js","components/LogOut.js","components/Buttons/Hamburger.js","components/NavBar.js","components/Profile/MarkerThumbnail.js","components/Profile/MarkerSection.js","components/Profile/Profile.js","components/MyProfile.js","components/App.js","index.js"],"names":["module","exports","initialState","currentUser","status","error","userReducer","state","action","type","user","checkIfLoggedIn","getStatus","getUser","getError","currentMarkers","markersReducer","markers","marker","_id","getMarkers","Object","values","mapCenter","userPosition","mapReducer","center","getCenter","map","getUserPosition","combineReducers","configureStore","createStore","reducer","window","__REDUX_DEVTOOLS_EXTENSION__","receiveUser","receiveUserError","updateUser","setCenter","COLORS","SPACING","GlobalStyle","createGlobalStyle","Btn","styled","button","props","theme","Button","children","style","Label","label","Input","input","Title1","h1","Title2","h2","Title3","h3","Text","p","Wrapper","div","Error","Spinner","color","height","width","timeout","SignUp","dispatch","useDispatch","history","useHistory","useSelector","React","useState","email","setEmail","password","setPassword","name","setName","onSubmit","e","preventDefault","fetch","method","body","JSON","stringify","headers","Accept","credentials","then","res","json","data","addUser","push","message","catch","err","htmlFor","id","value","onChange","target","placeholder","required","margin","to","LogIn","Card","open","side","backdrop","hasPriority","className","CardDiv","FourOhFour","OutlinedClose","icon","buttonClose","size","Happy","happyOutline","Sad","androidSad","Crosshair","crosshair","ImgDiv","url","Img","InputFile","InputPicture","setPicture","setPicUrl","inputRef","useRef","ref","currPicture","files","reader","FileReader","addEventListener","handleLoad","this","result","removeEventListener","readAsDataURL","handlePicChange","styleCard","display","flexFlow","justifyContent","zIndex","CloseBtn","UnstyledButton","MarkerForm","setOpen","position","title","setTitle","description","setDescription","picture","picUrl","setError","useEffect","formData","FormData","append","lat","lng","markerId","console","log","encType","onClick","SmallCard","VoteBtn","forwardRef","disabled","BtnWrapper","TextWrapper","CustomInfobox","upvoteUsers","downvoteUsers","vote","setVote","UpvoteRef","DownvoteRef","userId","voteMarker","disableVoteBtn","voteArray","upvotedMarkers","downvotedMarkers","options","enableEventPropagation","closeBoxURL","onLoad","current","onUnmount","keys","length","CustomMarker","closeInfoBoxes","setCloseInfoBoxes","createdByCurrUser","clusterer","key","onMouseDown","onMouseUp","UserIcon","CenterToUserMapBtn","containerStyle","memo","useLocation","userCoords","setMap","markerPosition","setMarkerPostion","query","URLSearchParams","search","positionUrlParams","get","Number","receiveMarkers","userPositionListener","navigator","geolocation","watchPosition","coords","latitude","longitude","setUserPosition","clearWatch","useCallback","checkIfCreatedByCurrUser","googleMapsApiKey","process","loadingElement","onShortPress","onLongPress","longPressTime","mapContainerStyle","zoom","fullscreenControl","streetViewControl","zoomControl","styles","mapStyles","mapTypeId","latLng","userMarkerIcon","animation","imagePath","includes","pos1","pos2","lat1","Math","PI","lat2","lon1","deltaLat","deltaLon","a","pow","sin","cos","atan2","sqrt","haversineDistance","Brand","Homepage","isLoggedin","LogOut","Hamburger","NavBtn","Usericon","src","avatarUrl","Navicon","img","span","backgroundColor","Li","li","NavBar","exact","activeClassName","MarkerThumbnail","MarkerSection","markerIds","find","Profile","createdMarkers","MyProfile","main","App","isLoggedIn","path","component","store","ReactDOM","render","background","document","getElementById"],"mappings":"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","file":"static/js/main.c9352360.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user-marker.806c9d4b.svg\";","module.exports = __webpack_public_path__ + \"static/media/marker.a4717a62.svg\";","module.exports = __webpack_public_path__ + \"static/media/compass.2cc3f756.svg\";","const initialState = {\r\n  currentUser: null,\r\n  status: \"idle\",\r\n  error: null,\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"REQUEST_USER\": {\r\n      return { ...state, status: \"loading\", error: null };\r\n    }\r\n    case \"RECEIVE_USER\": {\r\n      return {\r\n        ...state,\r\n        currentUser: action.user,\r\n        status: \"idle\",\r\n        error: null,\r\n      };\r\n    }\r\n    case \"RECEIVE_USER_ERROR\": {\r\n      return { ...state, status: \"error\", error: action.error };\r\n    }\r\n    case \"ADD_USER\": {\r\n      return {\r\n        ...state,\r\n        currentUser: action.user,\r\n        status: \"idle\",\r\n        error: null,\r\n      };\r\n    }\r\n    case \"UPDATE_USER\": {\r\n      return {\r\n        ...state,\r\n        currentUser: action.user,\r\n        status: \"idle\",\r\n        error: null,\r\n      };\r\n    }\r\n    case \"RESET_USER\": {\r\n      return initialState;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n\r\n// true if user logged in\r\nexport const checkIfLoggedIn = (state) => {\r\n  return state.user.currentUser ? true : false;\r\n};\r\n\r\nexport const getStatus = (state) => {\r\n  return state.user.status;\r\n};\r\n\r\nexport const getUser = (state) => {\r\n  return state.user.currentUser;\r\n};\r\n\r\nexport const getError = (state) => {\r\n  return state.user.error;\r\n};\r\n","const initialState = {\r\n  currentMarkers: null,\r\n  status: \"idle\",\r\n};\r\n\r\nconst markersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"REQUEST_MARKERS\": {\r\n      return { ...state, status: \"loading\" };\r\n    }\r\n    case \"RECEIVE_MARKERS\": {\r\n      return {\r\n        ...state,\r\n        currentMarkers: action.markers,\r\n        status: \"idle\",\r\n      };\r\n    }\r\n    case \"RECEIVE_MARKERS_ERROR\": {\r\n      return { ...state, status: \"error\" };\r\n    }\r\n    case \"ADD_MARKER\": {\r\n      return {\r\n        ...state,\r\n        currentMarkers: {\r\n          ...state.currentMarkers,\r\n          [action.marker._id]: {\r\n            ...action.marker,\r\n          },\r\n        },\r\n        status: \"idle\",\r\n      };\r\n    }\r\n    case \"VOTE_MARKER\": {\r\n      return {\r\n        ...state,\r\n        currentMarkers: {\r\n          ...state.currentMarkers,\r\n          [action.marker._id]: {\r\n            ...action.marker,\r\n          },\r\n        },\r\n        status: \"idle\",\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default markersReducer;\r\n\r\nexport const getMarkers = (state) => {\r\n  return state.markers.currentMarkers\r\n    ? Object.values(state.markers.currentMarkers)\r\n    : null;\r\n};\r\n","const initialState = {\r\n    mapCenter: null,\r\n    userPosition:null\r\n  };\r\n\r\n  const mapReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case \"SET_CENTER\": {\r\n        return { ...state, mapCenter : {...action.center} };\r\n      }\r\n      case \"SET_USER_POSITION\": {\r\n        return { ...state, userPosition : {...action.userPosition} };\r\n      }\r\n      default: {\r\n        return state;\r\n      }\r\n    }\r\n  };\r\n  \r\n  export default mapReducer;\r\n\r\n  export const getCenter= (state) => {\r\n    return state.map.mapCenter;\r\n  };\r\n\r\n  export const getUserPosition= (state) => {\r\n    return state.map.userPosition;\r\n  };\r\n  \r\n  ","import { combineReducers } from \"redux\";\r\n\r\nimport user from \"./user-reducer\";\r\nimport markers from \"./markers-reducer\";\r\nimport map from \"./map-reducer\";\r\n\r\nexport default combineReducers({ user, markers, map });\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"./reducers/reducer\";\r\n\r\nconst configureStore = (initialState) => {\r\n  const store = createStore(\r\n    reducer,\r\n    initialState,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  );\r\n  return store\r\n} \r\n\r\nexport default configureStore;\r\n","//---------------User actions-----------------\r\nexport const requestUser = () => ({\r\n    type: \"REQUEST_USER\",\r\n  });\r\n  \r\n  export const receiveUser = (user) => ({\r\n    type: \"RECEIVE_USER\",\r\n    user,\r\n  });\r\n  \r\n  export const receiveUserError = (error) => ({\r\n    type: \"RECEIVE_USER_ERROR\",\r\n    error\r\n  });\r\n  \r\n  export const addUser = (user) => ({\r\n    type: \"ADD_USER\",\r\n    user\r\n  });\r\n  export const updateUser = (user) => ({\r\n    type: \"UPDATE_USER\",\r\n    user\r\n  });\r\n\r\n  export const resetUser = () => ({\r\n    type: \"RESET_USER\",\r\n  });\r\n\r\n//---------------Marker actions-----------------\r\nexport const requestMarkers = () => ({\r\n  type: \"REQUEST_MARKERS\",\r\n});\r\n\r\nexport const receiveMarkers = (markers) => ({\r\n  type: \"RECEIVE_MARKERS\",\r\n  markers,\r\n});\r\n\r\nexport const receiveMarkersError = (error) => ({\r\n  type: \"RECEIVE_MARKERS_ERROR\",\r\n  error\r\n});\r\n\r\nexport const addMarker = (marker) => ({\r\n  type: \"ADD_MARKER\",\r\n  marker\r\n});\r\n\r\nexport const voteMarker = (marker) => ({\r\n  type: \"VOTE_MARKER\",\r\n  marker\r\n});\r\n\r\n//---------------Map actions-----------------\r\nexport const setCenter = (center)=> ({\r\n  type: \"SET_CENTER\",\r\n  center\r\n})\r\n\r\nexport const setUserPosition = (userPosition)=> ({\r\n  type: \"SET_USER_POSITION\",\r\n  userPosition\r\n})","export const COLORS = {\r\n  text: \"rgba(53, 53, 53, 1)\",\r\n  lightText: \"rgba(33, 33, 33, 0.1)\",\r\n  primary: \"#5d00ff\", // bleu foncé\r\n  accent: \"#f5523c\", // rose foncé\r\n  bad: \"crimson\",\r\n  good: 'green'\r\n};\r\n\r\nexport const SPACING = {\r\n  spacing: \"50px 20px 20px 20px\",\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\nimport { COLORS, SPACING } from \"./assets/styles\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed, \r\nfigure, figcaption, footer, header, hgroup, \r\nmenu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: 0;\r\n\tfont-size: 100%;\r\n\tfont: inherit;\r\n\tvertical-align: baseline;\r\n\tfont-family: 'Roboto', sans-serif;\r\n\tcolor: ${COLORS.text}\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure, \r\nfooter, header, hgroup, menu, nav, section {\r\n\tdisplay: block;\r\n}\r\nbody {\r\n\tline-height: 1;\r\n\r\n}\r\nol, ul {\r\n\tlist-style: none;\r\n}\r\nblockquote, q {\r\n\tquotes: none;\r\n}\r\nblockquote:before, blockquote:after,\r\nq:before, q:after {\r\n\tcontent: '';\r\n\tcontent: none;\r\n}\r\ntable {\r\n\tborder-collapse: collapse;\r\n\tborder-spacing: 0;\r\n}\r\n\r\nsection {\r\n\tpadding:${SPACING.spacing}\r\n}\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { COLORS } from \"../assets/styles\";\r\n\r\nconst Button = ({ children, theme, style }) => {\r\n  return (\r\n    <Btn theme={theme} style={style}>\r\n      {children}\r\n    </Btn>\r\n  );\r\n};\r\n\r\nconst Btn = styled.button`\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n  background-color: ${(props) =>\r\n    props.theme === \"accent\" ? COLORS.accent : COLORS.primary};\r\n  padding: 10px 25px;\r\n  border: 2px solid\r\n    ${(props) => (props.theme === \"accent\" ? COLORS.accent : COLORS.primary)};\r\n  cursor: pointer;\r\n`;\r\nexport default Button;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Label = styled.label`\r\n  display: none;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding: 10px;\r\n  line-height: 20px;\r\n  margin-bottom:10px;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Title1 = styled.h1`\r\n  margin-bottom: 20px;\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Title2 = styled.h2`\r\n  margin: 10px 0;\r\n  font-weight: bold;\r\n  font-size: 1.3rem;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Title3 = styled.h3`\r\n  margin-bottom: 10px;\r\n  font-weight: bold;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nexport const Text = styled.p`\r\n  margin: 10px 0;\r\n  text-align: center;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { COLORS } from \"./assets/styles\";\r\n\r\nconst Error = ({ children }) => {\r\n  return <Wrapper>{children}</Wrapper>;\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  color: ${COLORS.bad};\r\n  margin: 10px 0;\r\n`;\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={50}\r\n      width={50}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getError, getStatus, getUser } from \"../reducers/user-reducer\";\r\nimport { addUser, receiveUserError, requestUser } from \"../actions\";\r\n\r\nimport Button from \"./Buttons/Button\";\r\nimport { Label, Input } from \"./Forms/StyledFormComponents\";\r\nimport { Title1, Text } from \"./Misc/typo\";\r\n\r\nimport Error from \"./Error\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nconst SignUp = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const user = useSelector(getUser);\r\n  const status = useSelector(getStatus);\r\n  const error = useSelector(getError);\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [name, setName] = React.useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    dispatch(requestUser());\r\n    e.preventDefault();\r\n    fetch(\"/api/users/signup\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ email, password, name }),\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === 201) {\r\n          dispatch(addUser(data.user));\r\n          history.push(\"/map\");\r\n        } else {\r\n          dispatch(receiveUserError({ message: data.message }));\r\n        }\r\n      })\r\n      .catch((err) => dispatch(receiveUserError(err)));\r\n  };\r\n  return (\r\n    <section>\r\n      {status === \"loading\" ? (\r\n        <Spinner />\r\n      ) : (\r\n        !user && (\r\n          <>\r\n            <Title1>Sign up</Title1>\r\n            <form onSubmit={handleSubmit}>\r\n              <div>\r\n                <Label htmlFor=\"email\">What's your email</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  placeholder=\"Enter your email.\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"password\">Create a password</Label>\r\n                <Input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  placeholder=\"Create a password.\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"name\">What sould we call you</Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  type=\"text\"\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  placeholder=\"Enter a profile name.\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <Button\r\n                theme=\"accent\"\r\n                style={{ margin: \"40px 0 20px\", width: \"100%\" }}\r\n              >\r\n                SIGN UP\r\n              </Button>\r\n            </form>\r\n            <Text>\r\n              Have an account? <Link to=\"/login\">Log in</Link>.\r\n            </Text>\r\n\r\n            {error && <Error>{error.message}</Error>}\r\n          </>\r\n        )\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Button from \"./Buttons/Button\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { requestUser, receiveUser, receiveUserError } from \"../actions\";\r\nimport { getStatus, getUser, getError } from \"../reducers/user-reducer\";\r\n\r\nimport { Label, Input } from \"./Forms/StyledFormComponents\";\r\nimport Spinner from \"./Spinner\";\r\nimport Error from \"./Error\";\r\nimport { Title1, Text } from \"./Misc/typo\";\r\n\r\nconst LogIn = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const status = useSelector(getStatus);\r\n  const error = useSelector(getError);\r\n  const user = useSelector(getUser);\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(requestUser());\r\n    fetch(\"/api/users/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ email, password }),\r\n      credentials: \"include\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === 200) {\r\n          dispatch(receiveUser(data.user));\r\n          history.push(\"/map\");\r\n        } else {\r\n          dispatch(receiveUserError({ message: data.message }));\r\n        }\r\n      })\r\n      .catch((err) => dispatch(receiveUserError(err)));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {status === \"loading\" && <Spinner />}\r\n      {status !== \"loading\" && !user && (\r\n        <section>\r\n          <Title1>Login</Title1>\r\n          <form onSubmit={handleSubmit}>\r\n            <div>\r\n              <Label htmlFor=\"email\">Email</Label>\r\n              <Input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Email address\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"Password\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <Button style={{ margin: \"40px 0 20px\", width: \"100%\" }}>\r\n              LOG IN\r\n            </Button>\r\n          </form>\r\n          <Text>\r\n            Don't have an account ? <Link to=\"/signup\">Sign up</Link>.\r\n          </Text>\r\n          {status === \"error\" && error && <Error>{error.message}</Error>}\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { SPACING } from \"../assets/styles\";\r\n\r\n// side prop defines where the card slides from on open\r\n// side can be equal to top, left, right, bottom\r\n// backdrop = true : card is smaller with backdrop¸\r\n// hasPriority = true give an insane z-index so nothing is on top of the Card\r\nconst Card = ({ open, side, backdrop, hasPriority, children, style }) => {\r\n  return (\r\n    <Wrapper\r\n      className={open && \"toggled\"}\r\n      side={side}\r\n      backdrop={backdrop}\r\n      hasPriority={hasPriority}\r\n    >\r\n      <CardDiv style={style} backdrop={backdrop}>\r\n        {children}\r\n      </CardDiv>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n\r\nconst Wrapper = styled.div`\r\n  z-index: ${(props) =>\r\n    props.hasPriority && props.hasPriority === true ? 1000 : null};\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: ${(props) => (props.side && props.side === \"top\" ? \"-100%\" : null)};\r\n  right: ${(props) => (props.side && props.side === \"right\" ? \"-100%\" : null)};\r\n  left: ${(props) => (props.side && props.side === \"left\" ? \"-100%\" : null)};\r\n  bottom: ${(props) =>\r\n    props.side && props.side === \"bottom\" ? \"-100%\" : null};\r\n  box-sizing: border-box;\r\n  transition: ${(props) => (props.side && props.side ? props.side : \"\")} 250ms\r\n    ease-out;\r\n  &.toggled {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    top: ${(props) => (props.side && props.side === \"top\" ? 0 : null)};\r\n    right: 0;\r\n    left: ${(props) => (props.side && props.side === \"left\" ? 0 : null)};\r\n    bottom: 0;\r\n  }\r\n`;\r\n\r\nconst CardDiv = styled.div`\r\n  opacity: 1;\r\n  position: relative;\r\n  background-color: #ffffff;\r\n  display: flex;\r\n  overflow-x: scroll;\r\n  width: ${(props) =>\r\n    props.backdrop && props.backdrop === true ? \"calc(100% - 20px)\" : \"100%\"};\r\n  height: ${(props) =>\r\n    props.backdrop && props.backdrop === true ? \"calc(100% - 20px)\" : \"100%\"};\r\n  padding: ${SPACING.spacing};\r\n  box-sizing: border-box;\r\n`;\r\n","import React from 'react'\r\nimport Card from '../components/Cards/Card'\r\n\r\nconst FourOhFour = () => {\r\n    return <Card>The vast emptiness of the Tartar plains. You hear the wind ?</Card>\r\n}\r\n\r\nexport default FourOhFour","import React from \"react\";\r\nimport { Icon } from \"react-icons-kit\";\r\nimport { buttonClose } from \"react-icons-kit/metrize/buttonClose\";\r\nimport { happyOutline } from \"react-icons-kit/ionicons/happyOutline\";\r\nimport { androidSad } from \"react-icons-kit/ionicons/androidSad\";\r\nimport {crosshair} from 'react-icons-kit/feather/crosshair'\r\n\r\nexport const OutlinedClose = () => <Icon icon={buttonClose} size={56} />;\r\n\r\nexport const Happy = ({ style }) => (\r\n  <Icon style={style} icon={happyOutline} size={47} />\r\n);\r\n\r\nexport const Sad = ({ style }) => (\r\n  <Icon style={style} icon={androidSad} size={47} />\r\n);\r\n\r\nexport const Crosshair = ({ style }) => (\r\n  <Icon style={style} icon={crosshair} size={47} />\r\n);\r\n\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.button`\r\n  display: block;\r\n  margin: 0;\r\n  padding: 0;\r\n  border: none;\r\n  background: none;\r\n  border:none;\r\n  outline:none;\r\n  cursor: pointer;\r\n  text-align: left;\r\n  &:active {\r\n    color: inherit;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { COLORS } from \"../assets/styles\";\r\n\r\nconst Img = ({ url }) => {\r\n  return <ImgDiv url={url} />;\r\n};\r\n\r\nconst ImgDiv = styled.div`\r\n  background: url(${(props) => props.url}) center no-repeat ${COLORS.lightText};\r\n  background-size: cover;\r\n  width: 100%;\r\n  padding-top: 100%; /* 1:1 Aspect Ratio -- obviously some kind of css evil magic */\r\n  position: relative;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport default Img;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\n// takes as props state function to change picture url and picture form data object\r\n// form component as to be  encType=\"multipart/form-data\"  for this to work\r\nconst InputPicture = ({ setPicture, setPicUrl }) => {\r\n  const inputRef = React.useRef(null);\r\n\r\n\r\n  // get url to preview image\r\n  const handlePicChange = (e) => {\r\n    const currPicture = e.target.files[0];\r\n    if (currPicture) {\r\n      const reader = new FileReader();\r\n      function handleLoad() {\r\n        setPicUrl(this.result);\r\n        reader.removeEventListener(\"load\", handleLoad);\r\n      }\r\n      reader.addEventListener(\"load\", handleLoad);\r\n      setPicture(currPicture);\r\n      reader.readAsDataURL(currPicture);\r\n    }\r\n  };\r\n  return (\r\n    <InputFile\r\n      ref={inputRef}\r\n      type=\"file\"\r\n      name=\"marker-pic\"\r\n      onChange={(e) => handlePicChange(e)}\r\n      required\r\n    />\r\n  );\r\n};\r\n\r\nconst InputFile = styled.input`\r\n  margin: 10px 0;\r\n`;\r\n\r\nexport default InputPicture;\r\n","import React from \"react\";\r\nimport { addMarker, updateUser } from \"../actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getUser } from \"../reducers/user-reducer\";\r\nimport styled from \"styled-components\";\r\nimport Card from \"./Cards/Card\";\r\nimport Button from \"./Buttons/Button\";\r\nimport { OutlinedClose } from \"./Icons\";\r\nimport UnstyledButton from \"./Buttons/UnstyledButton\";\r\nimport { COLORS } from \"./assets/styles\";\r\nimport { Label, Input } from \"./Forms/StyledFormComponents\";\r\nimport Img from \"./Misc/Img\";\r\nimport InputPicture from \"./Forms/InputPicture\";\r\nimport Error from \"./Error\";\r\n\r\nconst MarkerForm = ({ open, setOpen, position }) => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(getUser);\r\n  const { _id } = user;\r\n\r\n  const [title, setTitle] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const [picture, setPicture] = React.useState(null);\r\n  const [picUrl, setPicUrl] = React.useState(\"\");\r\n  const [error, setError] = React.useState(\"\");\r\n\r\n  // each time for reopened, fields are cleared\r\n  React.useEffect(() => {\r\n    setTitle(\"\");\r\n    setDescription(\"\");\r\n    setPicture(null);\r\n    setPicUrl(\"\");\r\n    setError(\"\");\r\n  }, [open]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"marker-pic\", picture);\r\n    formData.append(\"description\", description);\r\n    formData.append(\"title\", title);\r\n    formData.append(\"lat\", position.lat);\r\n    formData.append(\"lng\", position.lng);\r\n    formData.append(\"userId\", _id);\r\n\r\n    fetch(\"/api/markers\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n      headers: {},\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === 201) {\r\n          dispatch(addMarker(data.marker));\r\n          fetch(`/api/users/${_id}`, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify({\r\n              action: \"create\",\r\n              markerId: data.marker._id,\r\n            }),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n              if (data.status === 200) {\r\n                dispatch(updateUser(data.user));\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n          setOpen(false);\r\n        } else {\r\n          setError(data.message);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Card\r\n        open={open}\r\n        side=\"bottom\"\r\n        style={styleCard}\r\n        backdrop={true}\r\n        hasPriority={true}\r\n      >\r\n        <div>\r\n          <Img url={picUrl} />\r\n\r\n          <form onSubmit={onSubmit} encType=\"multipart/form-data\">\r\n            {open && (\r\n              <InputPicture setPicture={setPicture} setPicUrl={setPicUrl} />\r\n            )}\r\n            <div>\r\n              <Label htmlFor=\"title\">Title</Label>\r\n              <Input\r\n                id=\"title\"\r\n                name=\"title\"\r\n                type=\"text\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                placeholder=\"Give a title to your pin\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <Input\r\n                id=\"description\"\r\n                name=\"description\"\r\n                type=\"text\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                placeholder=\"Add a description\"\r\n              />\r\n            </div>\r\n            <Button>CREATE</Button>\r\n          </form>\r\n          <Error>{error}</Error>\r\n        </div>\r\n        <CloseBtn onClick={() => setOpen(false)}>\r\n          <OutlinedClose />\r\n        </CloseBtn>\r\n      </Card>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst styleCard = {\r\n  display: \"flex\",\r\n  flexFlow: \"column nowrap\",\r\n  justifyContent: \"space-between\",\r\n  zIndex: 100,\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-content: center;\r\n`;\r\n\r\nconst CloseBtn = styled(UnstyledButton)`\r\n  color: ${COLORS.text};\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport default MarkerForm;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { COLORS } from \"../assets/styles\";\r\n\r\nconst SmallCard = ({ children }) => {\r\n  return <CardDiv>{children}</CardDiv>;\r\n};\r\n\r\nexport default SmallCard;\r\n\r\nconst CardDiv = styled.div`\r\n  width: 270px;\r\n  min-height: 200px;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  background-color: #ffffff;\r\n  border: 1px solid ${COLORS.lightText};\r\n`;\r\n","import React from \"react\";\r\nimport { Happy, Sad } from \"../Icons\";\r\nimport styled from \"styled-components\";\r\nimport { COLORS } from \"../assets/styles\";\r\n\r\nconst VoteBtn = React.forwardRef(({ disabled, type }, ref) => (\r\n  <Btn ref={ref} disabled={disabled} type={type}>\r\n    {type === \"up\" ? (\r\n      <Happy style={{ color: disabled ? COLORS.good : COLORS.text }} />\r\n    ) : (\r\n      <Sad style={{ color: disabled ? COLORS.bad : COLORS.text }} />\r\n    )}\r\n  </Btn>\r\n));\r\n\r\nconst Btn = styled.button`\r\n  border-radius: 100%;\r\n  height: 50px;\r\n  width: 50px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #ffffff;\r\n  border: none;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport default VoteBtn;\r\n","import React from \"react\";\r\nimport { InfoBox } from \"@react-google-maps/api\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getUser } from \"../reducers/user-reducer\";\r\nimport { voteMarker, updateUser } from \"../actions\";\r\nimport SmallCard from \"./Cards/SmallCard\";\r\nimport VoteBtn from \"./Buttons/VoteBtn\";\r\nimport Img from \"./Misc/Img\";\r\nimport { COLORS } from \"./assets/styles\";\r\nimport { Title3 } from \"./Misc/typo\";\r\n\r\nconst CustomInfobox = ({ marker }) => {\r\n  const dispatch = useDispatch();\r\n  const currentUser = useSelector(getUser);\r\n\r\n  const {\r\n    lat,\r\n    lng,\r\n    url,\r\n    title,\r\n    description,\r\n    _id,\r\n    upvoteUsers,\r\n    downvoteUsers,\r\n  } = marker;\r\n\r\n  const [vote, setVote] = React.useState(null);\r\n  const UpvoteRef = React.useRef(null);\r\n  const DownvoteRef = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    if (vote) {\r\n      fetch(`api/markers/${_id}`, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ action: vote, userId: currentUser._id }),\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.status === 200) {\r\n            dispatch(voteMarker(data.marker));\r\n            // update\r\n            fetch(`api/users/${currentUser._id}`, {\r\n              method: \"PUT\",\r\n              body: JSON.stringify({ action: vote, markerId: _id }),\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            })\r\n              .then((res) => res.json())\r\n              .then((data) => dispatch(updateUser(data.user)))\r\n              .catch((err) => console.log(err));\r\n          } else {\r\n            throw data.message;\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [vote, _id, currentUser._id, dispatch]);\r\n\r\n  const onLoad = () => {\r\n    UpvoteRef.current.addEventListener(\"click\", function () {\r\n      setVote(\"upvote\");\r\n    });\r\n    DownvoteRef.current.addEventListener(\"click\", function () {\r\n      setVote(\"downvote\");\r\n    });\r\n  };\r\n\r\n  const onUnmount = () => {\r\n    UpvoteRef.current.removeEventListener(\"click\", function () {\r\n      setVote(\"upvote\");\r\n    });\r\n    DownvoteRef.current.removeEventListener(\"click\", function () {\r\n      setVote(\"downvote\");\r\n    });\r\n  };\r\n\r\n  const votes = () => {\r\n    const upvotes = upvoteUsers ? Object.keys(upvoteUsers).length : 0;\r\n    const downvotes = downvoteUsers ? Object.keys(downvoteUsers).length : 0;\r\n    return upvotes - downvotes;\r\n  };\r\n  const disableVoteBtn = (voteArray, _id) => {\r\n    // if user didn't vote ever => both btns are enabled\r\n    if (!currentUser.upvotedMarkers && !currentUser.downvotedMarkers) {\r\n      return false;\r\n    }\r\n    // if marker's id in array btn disabled\r\n    if (voteArray && voteArray[_id]) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <InfoBox\r\n      options={{\r\n        enableEventPropagation: false,\r\n        closeBoxURL: \"\",\r\n      }}\r\n      position={{ lat, lng }}\r\n      onLoad={onLoad}\r\n      onUnmount={onUnmount}\r\n    >\r\n      <SmallCard>\r\n        {url && <Img url={url} />}\r\n        <Wrapper>\r\n          <TextWrapper>\r\n            <Title3>{title}</Title3> <p>{description}</p>\r\n          </TextWrapper>\r\n\r\n          <BtnWrapper>\r\n            <VoteBtn\r\n              ref={UpvoteRef}\r\n              disabled={disableVoteBtn(currentUser.upvotedMarkers, _id)}\r\n              type=\"up\"\r\n            >\r\n              Up\r\n            </VoteBtn>\r\n            {votes()}\r\n            <VoteBtn\r\n              ref={DownvoteRef}\r\n              disabled={disableVoteBtn(currentUser.downvotedMarkers, _id)}\r\n              type=\"down\"\r\n            >\r\n              Down\r\n            </VoteBtn>\r\n          </BtnWrapper>\r\n        </Wrapper>\r\n      </SmallCard>\r\n    </InfoBox>\r\n  );\r\n};\r\n\r\nconst BtnWrapper = styled.div`\r\n  font-size: 1rem;\r\n  margin: 10px;\r\n  text-align: center;\r\n  border: solid 1px ${COLORS.lightText};\r\n  border-radius: 20px;\r\n`;\r\n\r\nconst TextWrapper = styled.div`\r\n  padding: 20px 0 10px 10px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default CustomInfobox;\r\n","import React, { useEffect } from \"react\";\r\nimport { Marker } from \"@react-google-maps/api\";\r\nimport CustomInfobox from \"./CustomInfobox\";\r\nimport UserIcon from \"./assets/user-marker.svg\";\r\nimport icon from \"./assets/marker.svg\";\r\n\r\nconst CustomMarker = ({\r\n  marker,\r\n  closeInfoBoxes,\r\n  setCloseInfoBoxes,\r\n  createdByCurrUser,\r\n  clusterer\r\n}) => {\r\n  const { lat, lng } = marker;\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    if (closeInfoBoxes) {\r\n      setOpen(false);\r\n    }\r\n  }, [closeInfoBoxes]);\r\n\r\n  // on click, first close all the other infoboxes\r\n  // then open the targetted infobox\r\n  const handleMouseDown = () => {\r\n    setCloseInfoBoxes(true);\r\n  };\r\n\r\n  // reset closeInfoBoxes\r\n  const handleMouseUp = () => {\r\n    setOpen(!open);\r\n    setCloseInfoBoxes(false);\r\n  };\r\n\r\n  return (\r\n    <Marker\r\n      key={marker._id}\r\n      position={{ lat, lng }}\r\n      clusterer={clusterer}\r\n      onMouseDown={handleMouseDown}\r\n      onMouseUp={handleMouseUp}\r\n      icon={createdByCurrUser ? UserIcon : icon}\r\n    >\r\n      {open && <CustomInfobox marker={marker} />}\r\n    </Marker>\r\n  );\r\n};\r\n\r\nexport default CustomMarker;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport UnstyledButton from \"./UnstyledButton\";\r\nimport { setCenter } from \"../../actions\";\r\nimport { Crosshair } from \"../Icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getUserPosition } from \"../../reducers/map-reducer\";\r\n\r\nconst CenterToUserMapBtn = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const userPosition = useSelector(getUserPosition);\r\n\r\n  return (\r\n    <Btn\r\n      onClick={() => {\r\n        dispatch(setCenter({...userPosition}));\r\n        history.push(\"/map\");\r\n      }}\r\n    >\r\n      <Crosshair />\r\n    </Btn>\r\n  );\r\n};\r\n\r\nexport default CenterToUserMapBtn;\r\n\r\n// styling a bit copied from google maps\r\nconst Btn = styled(UnstyledButton)`\r\n  cursor: pointer;\r\n  float: right;\r\n  position: absolute;\r\n  right: 10px;\r\n  bottom: 10px;\r\n  width: 50px;\r\n  height: 50px;\r\n  background-color: rgb(255, 255, 255);\r\n  box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n  border-radius:100%;\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  GoogleMap,\r\n  LoadScript,\r\n  Marker,\r\n  MarkerClusterer,\r\n} from \"@react-google-maps/api\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport LongPressable from \"react-longpressable\";\r\nimport { getMarkers } from \"../reducers/markers-reducer\";\r\nimport {\r\n  requestMarkers,\r\n  receiveMarkers,\r\n  receiveMarkersError,\r\n  setCenter,\r\n  setUserPosition,\r\n} from \"../actions\";\r\nimport MarkerForm from \"./MarkerForm\";\r\nimport Spinner from \"./Spinner\";\r\nimport CustomMarker from \"./CustomMarker\";\r\nimport userMarkerIcon from \"./assets/compass.svg\";\r\nimport mapStyles from \"./assets/map-styles.json\";\r\nimport { getUser } from \"../reducers/user-reducer\";\r\nimport { getCenter, getUserPosition } from \"../reducers/map-reducer\";\r\nimport CenterToUserMapBtn from \"./Buttons/CenterToUserMapBtn\";\r\n\r\nconst containerStyle = {\r\n  width: \"100%\",\r\n  height: \"725px\",\r\n};\r\n\r\nconst Map = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const markers = useSelector(getMarkers);\r\n  const currentUser = useSelector(getUser);\r\n  const center = useSelector(getCenter);\r\n  const userCoords = useSelector(getUserPosition);\r\n  const [map, setMap] = React.useState(null);\r\n\r\n  const [open, setOpen] = React.useState(false); // open new marker form\r\n  const [markerPosition, setMarkerPostion] = React.useState(null);\r\n  const [closeInfoBoxes, setCloseInfoBoxes] = React.useState(false);\r\n\r\n  const query = new URLSearchParams(useLocation().search);\r\n\r\n  const positionUrlParams =\r\n    query.get(\"lat\") && query.get(\"lng\")\r\n      ? { lat: Number(query.get(\"lat\")), lng: Number(query.get(\"lng\")) }\r\n      : null;\r\n\r\n  // on component load, fetch markers from database\r\n  // and add user location\r\n  React.useEffect(() => {\r\n    // add saved markers to map\r\n    dispatch(requestMarkers());\r\n    fetch(\"/api/markers\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch(receiveMarkers(data.markers));\r\n      })\r\n      .catch((err) => dispatch(receiveMarkersError()));\r\n\r\n    const listener = (position) => {\r\n      const userPosition = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude,\r\n      };\r\n\r\n      dispatch(setUserPosition({ ...userPosition }));\r\n\r\n      positionUrlParams\r\n        ? dispatch(setCenter({ ...positionUrlParams }))\r\n        : dispatch(setCenter(userPosition));\r\n    };\r\n    let userPositionListener = null;\r\n    //if geolocation allowed, set marker to user position\r\n    if (\"geolocation\" in navigator) {\r\n      userPositionListener = navigator.geolocation.watchPosition(listener);\r\n    }\r\n\r\n    //cleanup function\r\n    return () => {\r\n      if (userPositionListener)\r\n        navigator.geolocation.clearWatch(userPositionListener);\r\n    };\r\n  }, [dispatch]);\r\n\r\n  React.useEffect(() => {\r\n    // default value\r\n    dispatch(setCenter({ lat: 45.5, lng: -73.56 }));\r\n  }, [dispatch]);\r\n\r\n  const handleLoad = React.useCallback(function callback(map) {\r\n    setMap(map);\r\n  }, []);\r\n\r\n  // trigger infobox close when click anywhere outside infobox on the map\r\n  // reset closeInfoBoxes on mouse up\r\n  // get position of the click\r\n  const handleMouseDown = (e) => {\r\n    const lat = e.latLng.lat();\r\n    const lng = e.latLng.lng();\r\n    setMarkerPostion({ lat, lng });\r\n    setCloseInfoBoxes(true);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setCloseInfoBoxes(false);\r\n  };\r\n\r\n  // open new marker form on longpress\r\n  const onLongPress = (e) => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const onShortPress = (e) => {\r\n    // error if I omit this function\r\n    // returns nothing - pschhhh the wind and the vast emptiness of the Tartar plains\r\n  };\r\n\r\n  const haversineDistance = (pos1, pos2) => {\r\n    // Haversine distance between 2 points in km\r\n    const radius = 6371; // Earth radius\r\n    const lat1 = (pos1.lat * Math.PI) / 180;\r\n    const lat2 = (pos2.lat * Math.PI) / 180;\r\n    const lon1 = (pos1.lng * Math.PI) / 180;\r\n    const lon2 = (pos2.lng * Math.PI) / 180;\r\n    const deltaLat = lat2 - lat1;\r\n    const deltaLon = lon2 - lon1;\r\n\r\n    const a =\r\n      Math.pow(Math.sin(deltaLat / 2), 2) +\r\n      Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(deltaLon / 2), 2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const distance = radius * c;\r\n    return distance;\r\n  };\r\n\r\n  const checkIfCreatedByCurrUser = (userId) => {\r\n    return userId === currentUser._id ? true : false;\r\n  };\r\n\r\n  const checkIfupvotedMarker = (markerId) => {\r\n    return currentUser.upvotedMarkers && Object.keys(currentUser.upvotedMarkers).includes(markerId);\r\n  };\r\n\r\n  return (\r\n    <LoadScript\r\n      googleMapsApiKey={process.env.REACT_APP_MAPS_API_KEY}\r\n      loadingElement={<Spinner />}\r\n    >\r\n      <LongPressable\r\n        onShortPress={onShortPress}\r\n        onLongPress={onLongPress}\r\n        longPressTime={1000}\r\n      >\r\n        <GoogleMap\r\n          mapContainerStyle={containerStyle}\r\n          zoom={17}\r\n          center={center}\r\n          options={{\r\n            fullscreenControl: false,\r\n            streetViewControl: false,\r\n            zoomControl: false,\r\n            styles: mapStyles,\r\n            mapTypeId: \"satellite\",\r\n          }}\r\n          onMouseDown={handleMouseDown}\r\n          onMouseUp={handleMouseUp}\r\n          onLoad={handleLoad}\r\n        >\r\n          {/* current user position*/}\r\n          <Marker\r\n            position={positionUrlParams ? userCoords : center}\r\n            icon={userMarkerIcon}\r\n            animation={2}\r\n          />\r\n          {/*user can see all her markers but only other user'S markers when they are close*/}\r\n          <MarkerClusterer\r\n            options={{\r\n              imagePath:\r\n                \"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m\",\r\n            }}\r\n          >\r\n            {(clusterer) =>\r\n              markers &&\r\n              markers.map(\r\n                (marker) =>\r\n                  (checkIfCreatedByCurrUser(marker.userId) ||\r\n                    checkIfupvotedMarker(marker._id) ||\r\n                    haversineDistance(\r\n                      { ...center },\r\n                      { lat: marker.lat, lng: marker.lng }\r\n                    ) < 2) && (\r\n                    <CustomMarker\r\n                      key={marker._id}\r\n                      marker={marker}\r\n                      clusterer={clusterer}\r\n                      closeInfoBoxes={closeInfoBoxes}\r\n                      setCloseInfoBoxes={setCloseInfoBoxes}\r\n                      createdByCurrUser={checkIfCreatedByCurrUser(\r\n                        marker.userId\r\n                      )}\r\n                    />\r\n                  )\r\n              )\r\n            }\r\n          </MarkerClusterer>\r\n        </GoogleMap>\r\n      </LongPressable>\r\n      <MarkerForm open={open} setOpen={setOpen} position={markerPosition} />\r\n      <CenterToUserMapBtn />\r\n    </LoadScript>\r\n  );\r\n};\r\n\r\nexport default React.memo(Map);\r\n","import React from \"react\";\r\nimport Map from \"../components/Map\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { checkIfLoggedIn } from \"../reducers/user-reducer\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Homepage = () => {\r\n  const isLoggedin = useSelector(checkIfLoggedIn);\r\n\r\n  return (\r\n    <>\r\n      {isLoggedin && <Map />}\r\n      {!isLoggedin && (\r\n        <Wrapper>\r\n          <Brand>Ticit</Brand>\r\n        </Wrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  height: inherit;\r\n  width: inherit;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 10rem;\r\n  background: linear-gradient(to top, #f5523c, #e3e6ff );\r\n`;\r\n\r\nconst Brand = styled.div`\r\n  margin-top: -60px;\r\n  font-family: \"Alata\", sans-serif;\r\n`;\r\nexport default Homepage;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { resetUser } from \"../actions\";\r\n\r\nimport UnstyledButton from \"./Buttons/UnstyledButton\";\r\n\r\nconst LogOut = ({setOpen}) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleClick = () => {\r\n    fetch(\"/api/users/logout\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === 200) {\r\n          dispatch(resetUser());\r\n          setOpen(false)\r\n          history.push(\"/\");\r\n        }\r\n        \r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return <UnstyledButton onClick={handleClick}>Log out</UnstyledButton>;\r\n};\r\n\r\nexport default LogOut;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { checkIfLoggedIn, getUser } from \"../../reducers/user-reducer\";\r\nimport UnstyledButton from \"./UnstyledButton\";\r\nimport styled from \"styled-components\";\r\nimport { COLORS } from \"../assets/styles\";\r\n\r\nconst Hamburger = ({ open, setOpen }) => {\r\n  const isLoggedin = useSelector(checkIfLoggedIn);\r\n  const currentUser = useSelector(getUser);\r\n  return (\r\n    <NavBtn onClick={() => setOpen(!open)}>\r\n      {isLoggedin && (\r\n        <Usericon\r\n          className={open && \"toggled\"}\r\n          src={\r\n            isLoggedin && currentUser.avatarUrl\r\n              ? currentUser.avatarUrl\r\n              : \"/assets/misc/default-user.jpg\"\r\n          }\r\n        />\r\n      )}\r\n      <Navicon className={open && \"toggled\"} isLoggedin={isLoggedin} />\r\n    </NavBtn>\r\n  );\r\n};\r\n\r\nexport default Hamburger;\r\n\r\nconst Usericon = styled.img`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 50px;\r\n  height: 50px;\r\n  transition: opacity 0.2s ease-out;\r\n  z-index: 71;\r\n  &.toggled {\r\n    opacity: 0;\r\n  }\r\n  border-radius: 100%;\r\n  background-color: #ffffff;\r\n  border: 2px solid ${COLORS.lightText};\r\n`;\r\nconst NavBtn = styled(UnstyledButton)`\r\n  cursor: pointer;\r\n  float: right;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 50px;\r\n  height: 50px;\r\n  z-index: 71;\r\n`;\r\n\r\n// if user is logged in, initial menu icon (the 3 stacked bars) has opacity = 0\r\n// the part of the icon menu animation which  creates a close icon is reused with user profile picture\r\nconst Navicon = styled.span`\r\n  background: ${COLORS.primary};\r\n  display: block;\r\n  height: 3px;\r\n  position: absolute;\r\n  top: 30px;\r\n  right: 20px;\r\n  transition: background 0.2s ease-out;\r\n  width: 18px;\r\n  opacity: ${(props) => (props.isLoggedin ? 0 : 1)};\r\n  &:before,\r\n  &:after {\r\n    transition: opacity 0.2s ease-out;\r\n    background: ${COLORS.primary};\r\n    content: \"\";\r\n    display: block;\r\n    height: 100%;\r\n    position: absolute;\r\n    transition: all 0.2s ease-out;\r\n    width: 100%;\r\n  }\r\n\r\n  &:before {\r\n    top: 6px;\r\n  }\r\n\r\n  &:after {\r\n    top: -6px;\r\n  }\r\n  &.toggled {\r\n    background: transparent;\r\n    opacity: 1;\r\n  }\r\n  &.toggled:after {\r\n    transform: rotate(45deg);\r\n    top: 0px;\r\n    background: #ffffff;\r\n    opacity: 1;\r\n  }\r\n  &.toggled:before {\r\n    transform: rotate(-45deg);\r\n    top: 0px;\r\n    background: #ffffff;\r\n    opacity: 1;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { checkIfLoggedIn } from \"../reducers/user-reducer\";\r\nimport LogOut from \"./LogOut\";\r\nimport Hamburger from \"./Buttons/Hamburger\";\r\nimport styled from \"styled-components\";\r\nimport { COLORS } from \"./assets/styles\";\r\nimport Card from \"./Cards/Card\";\r\n\r\nconst NavBar = () => {\r\n  const isLoggedin = useSelector(checkIfLoggedIn);\r\n  const [open, setOpen] = React.useState(false);\r\n  return (\r\n    <>\r\n      <Hamburger open={open} setOpen={setOpen} />\r\n      <Card open={open} style={styleCard} side=\"right\">\r\n        <nav>\r\n          <ul>\r\n            {!isLoggedin && (\r\n              <>\r\n                <Li>\r\n                  <NavLink\r\n                    exact\r\n                    to=\"/\"\r\n                    onClick={() => setOpen(!open)}\r\n                    activeClassName=\"selected\"\r\n                  >\r\n                    Home\r\n                  </NavLink>\r\n                </Li>\r\n                <Li>\r\n                  <NavLink\r\n                    to=\"/signup\"\r\n                    onClick={() => setOpen(!open)}\r\n                    activeClassName=\"selected\"\r\n                  >\r\n                    Sign up\r\n                  </NavLink>\r\n                </Li>\r\n                <Li>\r\n                  <NavLink\r\n                    to=\"/login\"\r\n                    onClick={() => setOpen(!open)}\r\n                    activeClassName=\"selected\"\r\n                  >\r\n                    Log in\r\n                  </NavLink>\r\n                </Li>\r\n              </>\r\n            )}\r\n\r\n            {isLoggedin && (\r\n              <>\r\n                <Li>\r\n                  <NavLink\r\n                    to={\"/map\"}\r\n                    onClick={() => setOpen(!open)}\r\n                    activeClassName=\"selected\"\r\n                  >\r\n                    Map\r\n                  </NavLink>\r\n                </Li>\r\n                <Li>\r\n                  <NavLink\r\n                    to=\"/users/me\"\r\n                    onClick={() => setOpen(!open)}\r\n                    activeClassName=\"selected\"\r\n                  >\r\n                    Profile\r\n                  </NavLink>\r\n                </Li>\r\n                <Li>\r\n                  <LogOut setOpen={setOpen} />\r\n                </Li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </nav>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\n// add custom style to card\r\n// regular js object -- not styled component\r\nconst styleCard = {\r\n  zIndex: 69,\r\n  color: \"#ffffff\",\r\n  backgroundColor: COLORS.primary,\r\n};\r\n\r\nconst Li = styled.li`\r\n  > * {\r\n    font-size: 1.3rem;\r\n    color: #ffffff;\r\n    text-decoration: underline;\r\n    display: block;\r\n    margin-bottom: 20px;\r\n  }\r\n  .selected {\r\n    display: none;\r\n  }\r\n`;\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Img from \"../Misc/Img\";\r\nimport styled from \"styled-components\";\r\n//import { Title3 } from \"../Misc/typo\";\r\n\r\nconst MarkerThumbnail = ({ marker }) => {\r\n\r\n  // const { url, title } = marker;\r\n  const { url, lat, lng } = marker;\r\n\r\n  return (\r\n    <Link to={`/map?lat=${lat}&lng=${lng}`}>\r\n      <Wrapper >\r\n        <Img url={url} />\r\n      </Wrapper>\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\n/*const Title = styled(Title3)`\r\n  text-align: center;\r\n`;*/\r\nexport default MarkerThumbnail;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getMarkers } from \"../../reducers/markers-reducer\";\r\nimport MarkerThumbnail from \"./MarkerThumbnail\";\r\nimport styled from \"styled-components\";\r\n\r\nconst MarkerSection = ({ markerIds }) => {\r\n  const markers = useSelector(getMarkers);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {Object.keys(markerIds).map((markerId) => (\r\n        <MarkerThumbnail\r\n          key={markerId}\r\n          marker={markers.find((marker) => marker._id === markerId)}\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n`;\r\n\r\nexport default MarkerSection;\r\n","import React from \"react\";\r\nimport Card from \"../Cards/Card\";\r\nimport MarkerSection from \"./MarkerSection\";\r\nimport { Title1, Title2 } from \"../Misc/typo\";\r\nimport styled from 'styled-components'\r\n\r\nconst Profile = ({ user }) => {\r\n  const { name, upvotedMarkers, createdMarkers } = user;\r\n  return (\r\n    <Card>\r\n      <Wrapper>\r\n        <Title1>{name}</Title1>\r\n        {upvotedMarkers && (\r\n          <div>\r\n            <Title2>Pins I upvoted</Title2>\r\n            <MarkerSection markerIds={upvotedMarkers} />\r\n          </div>\r\n        )}\r\n        {createdMarkers && (\r\n          <div>\r\n            <Title2>Pins I created</Title2>\r\n            <MarkerSection markerIds={createdMarkers} />\r\n          </div>\r\n        )}\r\n      </Wrapper>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport Profile from \"./Profile/Profile\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getUser } from \"../reducers/user-reducer\";\r\n\r\nconst MyProfile = () => {\r\n  const currentUser = useSelector(getUser);\r\n  return <> {currentUser && <Profile user={currentUser} />}</>;\r\n};\r\n\r\nexport default MyProfile;\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport GlobalStyle from \"./GlobalStyle\";\nimport SignUp from \"./SignUp\";\nimport LogIn from \"./LogIn\";\nimport FourOhFour from \"../pages/FourOhFour\";\nimport Homepage from \"../pages/Homepage\";\nimport NavBar from \"./NavBar\";\nimport MyProfile from \"./MyProfile\";\nimport { checkIfLoggedIn } from \"../reducers/user-reducer\";\nimport Map from \"./Map\";\n\nconst App = () => {\n  const isLoggedIn = useSelector(checkIfLoggedIn);\n\n  return (\n    <Wrapper>\n      <Router>\n        <NavBar />\n        <Switch>\n          <Route exact path=\"/\">\n            {isLoggedIn ? <Redirect to=\"/map\" /> : <Homepage />}\n          </Route>\n          <Route exact path=\"/login\">\n            <LogIn />\n          </Route>\n          <Route exact path=\"/signup\">\n            <SignUp />\n          </Route>\n          <Route exact path=\"/users/me\">\n            {isLoggedIn ? <MyProfile /> :<Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/map\">\n            {isLoggedIn ? <Map /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route component={FourOhFour} />\n        </Switch>\n      </Router>\n      <GlobalStyle />\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.main`\n  position: relative;\n  height: inherit;\n  box-sizing: border-box;\n`;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport configureStore from \"./store\";\nimport { requestUser, receiveUser, receiveUserError } from \"./actions\";\nimport MobileWrapper from \"mobile-viewer-component/dist\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/App\";\n\nconst store = configureStore();\n\n// initial ftch of user data is user logged in\nstore.dispatch(requestUser());\nfetch(\"/api/users/user\")\n  .then((res) => {\n    if (res.status !== 204) {\n      return res.json();\n    } else {\n      return null;\n    }\n  })\n  .then((data) => {\n    if (data && data.status === 200) {\n      store.dispatch(receiveUser(data.user));\n    } else {\n      store.dispatch(receiveUser());\n    }\n  })\n  .catch((err) => {\n    store.dispatch(receiveUserError());\n    console.log(err);\n  });\n\nReactDOM.render(\n  <MobileWrapper background=\"wave\">\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </MobileWrapper>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}